<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skapece - 3D Animator Portfolio</title>
    
    <!-- Meta tags, Favicon, Font e Icone (invariati) -->
    <meta property="og:title" content="Skapece - 3D Animator Portfolio">
    <meta property="og:description" content="Portfolio di Skapece, 3D Animator. Scopri i miei lavori, dai background alle animazioni.">
    <meta property="og:image" content="https://github.com/cristianomiolla/Portfolio-Skapi/blob/main/images/extra/metatags.png?raw=true">
    <meta property="og:url" content="https://www.skapece.it/">
    <meta property="og:type" content="website">
    <link rel="icon" href="images/extra/favicon.png" type="image/png">
    <link rel="shortcut icon" href="images/extra/favicon.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Stili globali (invariati) -->
    <style>
        :root {
            --font-principale: 'Inter', sans-serif;
            --colore-testo-primario: #212529;
            --colore-testo-secondario: #6c757d;
            --colore-sfondo: #f8f9fa;
            --colore-sidebar: #ffffff;
            --colore-accento: #007bff;
            --larghezza-sidebar: 280px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: var(--font-principale); background-color: var(--colore-sfondo); color: var(--colore-testo-primario); line-height: 1.6; }
        h1, h2, h3 { font-weight: 700; color: var(--colore-testo-primario); }
        h1 { font-size: 2rem; }
        h2 { font-size: 1.2rem; font-weight: 400; color: var(--colore-testo-secondario); }
        h3 { font-size: 1.5rem; margin-bottom: 1rem; }
        p { margin-bottom: 1rem; color: var(--colore-testo-secondario); }
        a { text-decoration: none; color: var(--colore-testo-primario); transition: color 0.2s ease-in-out; }
        a:hover { color: var(--colore-accento); }
    </style>
</head>
<body>

    <div class="main-container">

        <!-- Sezione Sidebar: HTML + Stili + Script -->
        <section id="sidebar-component">
            <header class="sidebar">
                <div class="author-info">
                    <h1>Skapece</h1>
                    <h2>3d animator</h2>
                </div>
                <button class="hamburger-menu" aria-label="Apri o chiudi menu">
                    <i class="fas fa-bars icon-hamburger"></i>
                    <i class="fas fa-xmark icon-close"></i>
                </button>
                <div class="mobile-menu-content">
                    <nav class="main-nav">
                        <ul>
                            <li><a href="#home" class="active">home</a></li>
                            <li><a href="#backgrounds">backgrounds</a></li>
                            <li><a href="#animations">animations</a></li>
                        </ul>
                    </nav>
                    <div class="social-links">
                        <a href="#" target="_blank" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" target="_blank" title="ArtStation"><i class="fab fa-artstation"></i></a>
                        <a href="#" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>

                <style>
                    .main-container { display: flex; }
                    @media (max-width: 768px) { .main-container { flex-direction: column; } }
                </style>
            </header>

            <style>
                .sidebar {
                    width: var(--larghezza-sidebar); height: 100vh; position: fixed; top: 0; left: 0;
                    background-color: var(--colore-sidebar); border-right: 1px solid #e9ecef;
                    padding: 40px; display: flex; flex-direction: column;
                }
                .author-info { margin-bottom: 50px; }
                .author-info h1 { margin-bottom: 5px; }
                .mobile-menu-content { flex-grow: 1; display: flex; flex-direction: column; }
                .main-nav ul { list-style-type: none; }
                .main-nav li { margin-bottom: 15px; }
                .main-nav a { font-size: 1.1rem; font-weight: 500; text-transform: lowercase; cursor: pointer; }
                .main-nav a.active { color: var(--colore-accento); font-weight: 700; }
                .social-links { margin-top: auto; }
                .social-links a { font-size: 1.5rem; margin-right: 20px; color: var(--colore-testo-secondario); transition: color 0.2s ease; }
                .social-links a:last-child { margin-right: 0; }
                .social-links a:hover { color: var(--colore-accento); }
                .hamburger-menu {
                    display: none; background: none; border: none; font-size: 1.8rem; cursor: pointer; color: var(--colore-testo-primario);
                    position: relative; width: 30px; height: 30px;
                }
                .hamburger-menu i { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); transition: opacity 0.3s ease, transform 0.3s ease; }
                .hamburger-menu .icon-close { opacity: 0; transform: translate(-50%, -50%) rotate(-90deg); }
                .hamburger-menu.is-active .icon-hamburger { opacity: 0; transform: translate(-50%, -50%) rotate(90deg); }
                .hamburger-menu.is-active .icon-close { opacity: 1; transform: translate(-50%, -50%) rotate(0deg); }
                @media (max-width: 768px) {
                    .sidebar {
                        position: relative; width: 100%; height: auto; border-right: none; border-bottom: 1px solid #e9ecef;
                        padding: 15px 20px; /* MODIFICATO: Ridotto il padding verticale per diminuire l'altezza */
                        flex-direction: row; justify-content: space-between; align-items: center; flex-wrap: wrap;
                    }
                    .author-info { margin-bottom: 0; }
                    /* NUOVO: Regole per rimpicciolire il testo su mobile */
                    .author-info h1 { font-size: 1.6rem; }
                    .author-info h2 { font-size: 1rem; }
                    .hamburger-menu { display: block; }
                    .mobile-menu-content { display: none; flex-grow: 0; width: 100%; margin-top: 20px; text-align: center; }
                    .mobile-menu-content.is-open { display: block; }
                    .mobile-menu-content .main-nav { margin-bottom: 30px; }
                    .mobile-menu-content .social-links { margin-top: 0; }
                    .mobile-menu-content .social-links a { margin: 0 15px; }
                }
            </style>

            <script>
                const hamburgerButton = document.querySelector('.hamburger-menu'), mobileMenu = document.querySelector('.mobile-menu-content');
                if (hamburgerButton && mobileMenu) {
                    hamburgerButton.addEventListener('click', () => {
                        hamburgerButton.classList.toggle('is-active');
                        mobileMenu.classList.toggle('is-open');
                    });
                }
                const menuLinks = document.querySelectorAll('.mobile-menu-content a');
                menuLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        if (mobileMenu.classList.contains('is-open')) {
                            hamburgerButton.classList.remove('is-active');
                            mobileMenu.classList.remove('is-open');
                        }
                    });
                });
            </script>
        </section>


        <!-- Sezione Contenuti -->
        <section id="content-component">
            <style>
                .content-area {
                    margin-left: var(--larghezza-sidebar); width: calc(100% - var(--larghezza-sidebar)); padding: 60px;
                }
                .content-section { display: none; animation: fadeIn 0.5s ease-in-out; }
                .content-section.active { display: block; }
                @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                @media (max-width: 768px) {
                    .content-area { margin-left: 0; width: 100%; padding: 40px 20px; }
                }
            </style>
            
            <main class="content-area">

                <!-- Componente Sezione Home (invariato) -->
                <section id="home" class="content-section active">
                    <div class="home-image-container">
                        <img src="images/home/me.jpg" alt="Foto dell'autore">
                    </div>
                    <div class="home-bio">
                        <h3>Benvenuto nel mio mondo digitale.</h3>
                        <p>Sono Skapece, un animatore 3D con una passione per la creazione di mondi e personaggi che prendono vita. Attraverso il mio lavoro, cerco di raccontare storie coinvolgenti e di evocare emozioni.</p>
                        <p>In questo portfolio troverai una selezione dei miei lavori, dai modelli di environment (backgrounds) alle animazioni complete. Naviga tra le sezioni per scoprire di più.</p>
                    </div>
                    <style>
                        #home.active { display: flex; align-items: center; gap: 40px; }
                        .home-image-container { flex-basis: 40%; max-width: 350px; }
                        .home-image-container img { width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
                        .home-bio { flex-basis: 60%; }
                        @media (max-width: 768px) { #home.active { flex-direction: column; text-align: center; } }
                    </style>
                </section>

                <!-- Componente Sezione Backgrounds (invariato) -->
                <section id="backgrounds" class="content-section">
                    <div class="backgrounds-grid">
                        <img src="images/backgrounds/placeholder.png" alt="Background 1 - Foresta Incantata" data-description="Per creare questa foresta incantata, ho iniziato con un blockout in Blender per definire le forme principali. Successivamente, ho modellato gli asset dettagliati come alberi e rocce, texturizzandoli con Substance Painter. L'illuminazione volumetrica è stata cruciale per ottenere l'atmosfera magica.">
                        <img src="images/backgrounds/placeholder.png" alt="Background 2 - Città Cyberpunk" data-description="Questa scena cyberpunk è stata un esercizio di world-building. Ho utilizzato kitbashing per assemblare rapidamente gli edifici e mi sono concentrato sulla creazione di materiali emissivi per le insegne al neon. Il rendering è stato fatto con Eevee per un feedback in tempo reale.">
                        <img src="images/backgrounds/placeholder.png" alt="Background 3 - Deserto Alieno" data-description="L'ispirazione per questo deserto alieno viene dai classici della fantascienza. La sfida era creare un terreno credibile usando lo sculpting e le mappe procedurali. I colori complementari, arancione e blu, sono stati scelti per dare un forte impatto visivo alla scena.">
                        <img src="images/backgrounds/placeholder.png" alt="Background 4 - Interno Accogliente" data-description="Per questo interno, l'obiettivo era la fotorealismo. Ho modellato ogni oggetto con attenzione ai dettagli e ho usato texture ad alta risoluzione. L'illuminazione è stata realizzata con un HDRI per simulare la luce naturale proveniente dalla finestra.">
                        <img src="images/backgrounds/placeholder.png" alt="Background 5 - Rovine Sottomarine" data-description="La creazione di un ambiente sottomarino richiede un'attenzione particolare agli effetti di post-produzione. Ho aggiunto particelle per simulare il plancton, raggi di luce (god rays) e una leggera distorsione cromatica per simulare l'effetto dell'acqua.">
                        <img src="images/backgrounds/placeholder.png" alt="Background 6 - Stazione Spaziale" data-description="Questa stazione spaziale è stata modellata con un approccio hard-surface. Ogni pannello e bullone è stato posizionato per dare un senso di realismo e funzionalità. I materiali metallici sono stati creati utilizzando mappe PBR (Physically Based Rendering).">
                    </div>

                    <style>
                        .backgrounds-grid {
                            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;
                        }
                        .backgrounds-grid img {
                            width: 100%; height: auto; object-fit: cover; border-radius: 8px;
                            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
                            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
                            cursor: pointer;
                        }
                        .backgrounds-grid img:hover {
                            transform: scale(1.03); box-shadow: 0 8px 20px rgba(0,0,0,0.12);
                        }
                        @media (max-width: 992px) {
                            .backgrounds-grid { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
                        }
                        /* Stili per il Modal (riutilizzati anche per il modal video) */
                        .modal-overlay {
                            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                            background-color: rgba(0, 0, 0, 0.85);
                            display: flex; justify-content: center; align-items: center;
                            z-index: 1000; opacity: 0; visibility: hidden;
                            transition: opacity 0.3s ease, visibility 0.3s ease;
                            padding: 20px;
                        }
                        .modal-overlay.is-visible { opacity: 1; visibility: visible; }
                        .modal-content {
                            background-color: var(--colore-sidebar); border-radius: 10px; padding: 25px;
                            max-width: 1200px; width: 100%; max-height: 90vh;
                            position: relative; transform: scale(0.95); transition: transform 0.3s ease;
                        }
                        .modal-overlay.is-visible .modal-content { transform: scale(1); }
                        .modal-close-button {
                            position: absolute; top: -15px; right: -15px;
                            background-color: white; border: none; border-radius: 50%;
                            width: 40px; height: 40px; font-size: 28px; line-height: 40px; text-align: center;
                            cursor: pointer; color: var(--colore-testo-primario);
                            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                        }
                        .modal-body { display: flex; gap: 25px; max-height: calc(90vh - 50px); }
                        #modal-image { flex: 2; max-width: 65%; height: 100%; object-fit: contain; }
                        /* NUOVO: Stili per il wrapper e il video nel modal */
                        .modal-video-wrapper { flex: 2; max-width: 65%; height: 100%; }
                        #modal-video { width: 100%; height: 100%; object-fit: contain; border-radius: 5px; }
                        .modal-description-container { flex: 1; overflow-y: auto; }
                        #modal-description, #modal-video-description { font-size: 0.95rem; line-height: 1.7; color: var(--colore-testo-secondario); }
                        @media (max-width: 768px) {
                            .modal-body { flex-direction: column; }
                            #modal-image, .modal-video-wrapper { max-width: 100%; max-height: 50vh; }
                            .backgrounds-grid img:hover {transform: none; box-shadow: none; }
                        }
                    </style>
                </section>
                
                <!-- [INIZIO] Componente Sezione Animations -->
                <section id="animations" class="content-section">
                    <div class="animations-grid">
                        <!-- MODIFICATO: Aggiunto data-description a ogni video. Assicurati di personalizzarlo. -->
                        <div class="video-container">
                            <video loop muted playsinline preload="metadata" src="images/animations/placeholder.mp4" data-description="Descrizione della prima animazione. Spiega il contesto, la tecnica utilizzata o l'obiettivo del pezzo."></video>
                        </div>
                        <div class="video-container">
                            <video loop muted playsinline preload="metadata" src="images/animations/placeholder.mp4" data-description="Descrizione della seconda animazione."></video>
                        </div>
                        <div class="video-container">
                            <video loop muted playsinline preload="metadata" src="images/animations/placeholder.mp4" data-description="Descrizione della terza animazione."></video>
                        </div>
                        <div class="video-container">
                            <video loop muted playsinline preload="metadata" src="images/animations/placeholder.mp4" data-description="Descrizione della quarta animazione."></video>
                        </div>
                        <div class="video-container">
                            <video loop muted playsinline preload="metadata" src="images/animations/placeholder.mp4" data-description="Descrizione della quinta animazione."></video>
                        </div>
                        <div class="video-container">
                            <video loop muted playsinline preload="metadata" src="images/animations/placeholder.mp4" data-description="Descrizione della sesta animazione."></video>
                        </div>
                    </div>

                    <style>
                        .animations-grid {
                            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;
                        }
                        .video-container {
                            border-radius: 8px; overflow: hidden;
                            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
                            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
                            cursor: pointer;
                        }
                        .video-container:hover {
                            transform: scale(1.03); box-shadow: 0 8px 20px rgba(0,0,0,0.12);
                        }
                        .video-container video {
                            width: 100%; height: auto; object-fit: cover; display: block;
                        }
                        @media (max-width: 992px) {
                            .animations-grid { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
                        }
                        @media (max-width: 768px) {
                            .video-container:hover {
                                transform: none; /* Disabilita l'effetto hover su mobile */
                                box-shadow: 0 4px 10px rgba(0,0,0,0.08); /* Ripristina l'ombra base */
                            }
                        }
                    </style>

                    <!-- RIMOSSO: Il vecchio script per play su hover non è più necessario -->

                </section>

            </main>
        </section>
    </div>

    <!-- Struttura del Modal per le Immagini (invariato) -->
    <div id="image-modal" class="modal-overlay">
        <div class="modal-content">
            <button id="modal-close" class="modal-close-button" aria-label="Chiudi popup">×</button>
            <div class="modal-body">
                <img id="modal-image" src="" alt="Immagine ingrandita">
                <div class="modal-description-container">
                    <p id="modal-description"></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- NUOVO: Struttura del Modal per i Video -->
    <div id="video-modal" class="modal-overlay">
        <div class="modal-content">
            <button id="video-modal-close" class="modal-close-button" aria-label="Chiudi popup">×</button>
            <div class="modal-body">
                <div class="modal-video-wrapper">
                    <video id="modal-video" src="" loop muted controls playsinline></video>
                </div>
                <div class="modal-description-container">
                    <p id="modal-video-description"></p>
                </div>
            </div>
        </div>
    </div>


    <!-- Script per i Modal e la Navigazione -->
    <script> 
        document.addEventListener('DOMContentLoaded', () => {
            // --- LOGICA PER IL MODAL DELLE IMMAGINI ---
            const imageModal = document.getElementById('image-modal');
            if (imageModal) {
                const modalImage = document.getElementById('modal-image'),
                    modalDescription = document.getElementById('modal-description'),
                    closeImageModalButton = document.getElementById('modal-close'),
                    gridImages = document.querySelectorAll('.backgrounds-grid img');
                
                function openImageModal(imageElement) {
                    modalImage.src = imageElement.src;
                    modalImage.alt = imageElement.alt;
                    modalDescription.textContent = imageElement.dataset.description;
                    imageModal.classList.add('is-visible');
                }
                function closeImageModal() { imageModal.classList.remove('is-visible'); }

                gridImages.forEach(img => img.addEventListener('click', () => openImageModal(img)));
                closeImageModalButton.addEventListener('click', closeImageModal);
                imageModal.addEventListener('click', e => { if (e.target === imageModal) closeImageModal(); });
                document.addEventListener('keydown', e => { if (e.key === 'Escape' && imageModal.classList.contains('is-visible')) closeImageModal(); });
            }

            // --- NUOVO: LOGICA PER IL MODAL DEI VIDEO ---
            const videoModal = document.getElementById('video-modal');
            if (videoModal) {
                const modalVideo = document.getElementById('modal-video'),
                      modalVideoDescription = document.getElementById('modal-video-description'),
                      closeVideoModalButton = document.getElementById('video-modal-close'),
                      videoTriggers = document.querySelectorAll('.video-container');

                function openVideoModal(videoContainer) {
                    const videoElement = videoContainer.querySelector('video');
                    modalVideo.src = videoElement.src;
                    modalVideoDescription.textContent = videoElement.dataset.description;
                    videoModal.classList.add('is-visible');
                    modalVideo.play().catch(e => console.error("Errore riproduzione video:", e)); // Avvia il video
                }
                
                function closeVideoModal() {
                    videoModal.classList.remove('is-visible');
                    modalVideo.pause(); // Ferma il video
                    modalVideo.currentTime = 0; // Resetta il video
                }

                videoTriggers.forEach(container => container.addEventListener('click', () => openVideoModal(container)));
                closeVideoModalButton.addEventListener('click', closeVideoModal);
                videoModal.addEventListener('click', e => { if (e.target === videoModal) closeVideoModal(); });
                document.addEventListener('keydown', e => { if (e.key === 'Escape' && videoModal.classList.contains('is-visible')) closeVideoModal(); });
            }
            
            // --- LOGICA DI NAVIGAZIONE TRA SEZIONI (invariata) ---
            const navLinks = document.querySelectorAll('.main-nav a');
            const contentSections = document.querySelectorAll('.content-section');
            function switchSection(event) {
                event.preventDefault();
                const targetId = this.getAttribute('href');
                navLinks.forEach(link => link.classList.remove('active'));
                this.classList.add('active');
                contentSections.forEach(section => section.classList.remove('active'));
                const targetSection = document.querySelector(targetId);
                if (targetSection) targetSection.classList.add('active');
            }
            navLinks.forEach(link => link.addEventListener('click', switchSection));
        });
    </script>

</body>
</html>
